import{r as C,a as p,y as w,u as k,q as x,o as i,c,b as e,e as o,t as V,g as l,w as S,d as h,v,i as D}from"./index.8b45bf7a.js";import{C as M}from"./CategoriasService.71c9b06e.js";import{m as N}from"./mainStorage.ec5336a9.js";import"./index.36a7d396.js";const B={class:"row mt-5"},E={class:"col-8 m-auto"},R={class:"card text-bg-secondary shadow-lg"},U={key:0},q={class:"text-danger"},z={class:"card-header bg-primary"},A={key:0},F={key:1},T={class:"card-body"},$=["onSubmit"],j={class:"row"},G={class:"col-4"},H=e("label",null,"Name",-1),I={class:"col-8"},J=e("label",null,"Descri\xE7\xE3o",-1),K={class:"col-1 mt-4"},L={key:0,class:"btn btn-success",type:"submit",value:"Cadastrar"},O={key:1,class:"btn btn-success",type:"submit",value:"Atualizar"},P={__name:"FormCategoria",setup(g){let t=C({nome:"",descricao:""}),r=p(0),n=p(null),_=w(),m=k();const y=N();let d=M(y.token);async function f(){let a=_.params.id;try{let s=await d.fetchCategoria(a);r.value=s.data.id,t.nome=s.data.nome,t.descricao=s.data.descricao,console.log(t.value)}catch(s){n.value=s}}async function b(){if(r.value)try{let a=await d.updateCategoria(t,r.value);alert(a.data.message),m.push("/categorias")}catch(a){n.value=a}else try{let a=await d.createCategoria(t);alert(a.data.message),m.push("/categorias")}catch(a){n.value=a}}return x(()=>{_.params.id&&f()}),(a,s)=>(i(),c("div",B,[e("div",E,[e("div",R,[o(n)?(i(),c("div",U,[e("h3",q,V(o(n)),1)])):l("",!0),e("div",z,[o(r)?(i(),c("h3",A,"Edi\xE7\xE3o de Categoria")):l("",!0),o(r)?l("",!0):(i(),c("h3",F,"Cadastro de Categoria"))]),e("div",T,[e("form",{onSubmit:S(b,["prevent"])},[e("div",j,[e("div",G,[H,h(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[0]||(s[0]=u=>o(t).nome=u)},null,512),[[v,o(t).nome]])]),e("div",I,[J,h(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[1]||(s[1]=u=>o(t).descricao=u)},null,512),[[v,o(t).descricao]])])]),e("div",K,[o(r)?l("",!0):(i(),c("input",L)),o(r)?(i(),c("input",O)):l("",!0)])],40,$)])])])]))}},Z={__name:"CadastroCategoriaView",setup(g){return(t,r)=>(i(),c("main",null,[D(P)]))}};export{Z as default};
