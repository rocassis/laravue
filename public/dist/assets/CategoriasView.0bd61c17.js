import{C}from"./CategoriasService.71c9b06e.js";import{m as g}from"./mainStorage.ec5336a9.js";import{a as i,s as x,l as k,o as c,c as d,b as t,i as o,m as l,F as y,x as w,e as D,n,t as u}from"./index.8b45bf7a.js";import"./index.36a7d396.js";const z={class:"mt-5 col-10 m-auto"},B={class:"row"},N={class:"row m-1 mb-5"},V=t("h3",{class:"col-10"},"Categorias",-1),L=n("Cadastrar"),S={class:"row"},F={class:""},M={class:"box"},R={class:"box-body"},j={class:"table table-striped table-bordered"},q=t("thead",null,[t("th",null,"ID"),t("th",null,"Nome"),t("th",null,"Descri\xE7\xE3o"),t("th",null,"#")],-1),A=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),E=["onClick"],I=t("i",{class:"fa-solid fa-trash-can"},null,-1),T=[I],P={__name:"CategoriasView",setup($){let r=i(!1),_=i([]),h=i(null);const p=g();let m=C(p.token);async function f(){try{r.value=!0;let s=await m.fetchAllCategorias();_.value=s.data,r.value=!1}catch(s){r.value=!1,h.value=s}}async function v(s){if(confirm("Deseja exluir este registro?")==!0)try{await m.deleteCategoria(s),alert("Categoria excluida com sucesso!"),f()}catch(b){h.value=b}else return!1}return x(()=>{f()}),(s,b)=>{const a=k("RouterLink");return c(),d("main",z,[t("div",B,[t("div",N,[V,o(a,{class:"btn btn-success col-1",to:"/categorias/cadastro"},{default:l(()=>[L]),_:1})]),t("div",S,[t("div",F,[t("div",M,[t("div",R,[t("table",j,[q,t("tbody",null,[(c(!0),d(y,null,w(D(_),e=>(c(),d("tr",{key:e.id},[t("td",null,[o(a,{class:"text-decoration-none",to:{path:"/categorias/atualizar/"+e.id}},{default:l(()=>[n(u(e.id),1)]),_:2},1032,["to"])]),t("td",null,[o(a,{class:"text-decoration-none",to:{path:"/categorias/atualizar/"+e.id}},{default:l(()=>[n(u(e.nome),1)]),_:2},1032,["to"])]),t("td",null,[o(a,{class:"text-decoration-none",to:{path:"/categorias/atualizar/"+e.id}},{default:l(()=>[n(u(e.descricao),1)]),_:2},1032,["to"])]),t("td",null,[o(a,{class:"btn btn-info btn-sm me-1",to:{path:"/categorias/atualizar/"+e.id}},{default:l(()=>[A]),_:2},1032,["to"]),t("button",{class:"btn btn-danger btn-sm ms-1",onClick:G=>v(e.id)},T,8,E)])]))),128))])])])])])])])])}}};export{P as default};
