import{P as p}from"./ProdutosService.c33b28ad.js";import{m as g}from"./mainStorage.ec5336a9.js";import{a as l,s as x,l as k,o as n,c as r,b as t,i as f,m as b,F as w,x as y,e as P,t as o,n as C}from"./index.8b45bf7a.js";import"./index.36a7d396.js";const V={class:"mt-5 col-10 m-auto"},B={class:"row"},D={class:"row m-1 mb-5"},N=t("h3",{class:"col-10"},"Produtos",-1),q={class:"col-2"},L=C("Adicionar"),S={class:"row"},E={class:""},F={class:"box"},M={class:"box-body"},R={class:"table table-striped table-bordered"},j=t("thead",null,[t("th",null,"ID"),t("th",null,"Nome"),t("th",null,"Valor"),t("th",null,"Unidade"),t("th",null,"Categoria"),t("th",null,"Estoque"),t("th",null,"#")],-1),z=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),A=["onClick"],I=t("i",{class:"fa-solid fa-trash-can"},null,-1),O=[I],K={__name:"ProdutosView",setup(T){let a=l(!1),c=l([]),i=l(null);const d=g();let u=p(d.token);async function _(){try{a.value=!0;let s=await u.fetchOwnProdutos(d.user_id);c.value=s.data,a.value=!1}catch(s){a.value=!1,i.value=s}}async function v(s){if(confirm("Deseja exluir este registro?")==!0)try{await u.deleteProduto(s),alert("Produto excluida com sucesso!"),_()}catch(h){i.value=h}else return!1}return x(()=>{_()}),(s,h)=>{const m=k("RouterLink");return n(),r("main",V,[t("div",B,[t("div",D,[N,t("div",q,[f(m,{class:"btn btn-success",to:"/produtos/cadastro"},{default:b(()=>[L]),_:1})])]),t("div",S,[t("div",E,[t("div",F,[t("div",M,[t("table",R,[j,t("tbody",null,[(n(!0),r(w,null,y(P(c),e=>(n(),r("tr",{key:e.id},[t("td",null,o(e.id),1),t("td",null,o(e.nome),1),t("td",null,o(e.valor),1),t("td",null,o(e.unidade),1),t("td",null,o(e.categoria.nome),1),t("td",null,o(e.estoque),1),t("td",null,[f(m,{class:"btn btn-info btn-sm me-1",to:{path:"/produtos/atualizar/"+e.id}},{default:b(()=>[z]),_:2},1032,["to"]),t("button",{class:"btn btn-danger btn-sm ms-1",onClick:U=>v(e.id)},O,8,A)])]))),128))])])])])])])])])}}};export{K as default};
